syntax="proto3";

package krpc.rpc.core.proto;
option java_package="krpc.rpc.core.proto";
option java_outer_classname="RpcMetas";
option java_multiple_files = true;

message RpcMeta {

    enum Direction { INVALID_DIRECTION = 0 ; REQUEST = 1; RESPONSE = 2; }
    Direction direction = 1;
    int32 serviceId = 2;
    int32 msgId = 3;
    int32 sequence = 4;
    int32 retCode = 5;
    string peers = 6; // ip:port for each hop
    string apps = 7; // app names for each hop
    string traceId = 8; // traceId for all hops
    string rpcId = 9; // format depends on apm system used
    int32 sampled = 10; // flags 0=default(yes) 1=force 2=no
    int32 timeout = 11;  // client side timeout in milliseconds
    string attachment = 12; // attached key/value pairs
    int32 compress = 13; // compress type, 0=no compress, 1=gzip 2=snappy

/*
    signature fields
    encrypt fields
    stressFlag
    clientId
*/

};